<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UFT-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÉ‡∏ô‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô</title>
    <style>
        html,
        body,
        #viewDiv {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
    <link rel="stylesheet" href="https://js.arcgis.com/4.29/esri/themes/light/main.css" />
    <script>
        var esriConfig = {
            apiKey:
                "AAPTxy8BH1VEsoebNVZXo8HurHrgGWnbagqcS1pvyFqEk4NHm0yv-fWMC82ZakPZdqWvjV73P4oOZR1rqqeVRmRonXyJKRl_AWY_2YRpJW0s1W--y_wCsfRRyN-RjbOQLDJWbUUEpN73vvPkyPIEnD4gVeRtMgH4KBsGVcxP3Vcz0dp2Dg-hcBbbkAI_R1zaYQCz1S47z6MXfxWayzWNRoH8Q5jBrv-DZw8VpWCKenUcR_8.AT1_NWDiwEpv", // ‡πÅ‡∏Å‡πâ‡πÄ‡∏õ‡πá‡∏ô API Key ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
        };
    </script>
    <script src="https://js.arcgis.com/4.29/"></script>
</head>

<body>
    <div id="viewDiv"></div>
    <script>
        require([
            "esri/Map",
            "esri/views/MapView",
            "esri/layers/FeatureLayer",
            "esri/widgets/Search",
        ], function (Map, MapView, FeatureLayer, Search) {

            const pinRenderer = {
                type: "simple",
                symbol: {
                    type: "picture-marker",
                    url: "https://cdn-icons-png.flaticon.com/128/5695/5695672.png",
                    width: "48px",
                    height: "48px",
                },
            };

            // Add Feature Layer ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Japan Location ‡πÑ‡∏ß‡πâ ‡∏î‡πâ‡∏ß‡∏¢ Url Map Service ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
            const japanLocationFeatureLayer = new FeatureLayer({
                url: "https://services5.arcgis.com/aDEhc2tPzGZDx3cx/arcgis/rest/services/Japan_Layer/FeatureServer",
                outField: ["*"],
                renderer: pinRenderer,
                popupTemplate: {
                    title: "{Location_name}",
                    content: `
                        <b>üèØ ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà:</b> {Location_Type} <br>
                        <b>‚≠ê ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß:</b> {Review} / 5<br>
                        <b>üí¨ ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:</b> {Description} <br>
                        <b>üí∞ ‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°:</b> {Price} <br>
                        <b>‚è±Ô∏è ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏Å‡∏≤‡∏£:</b> {Opening_Times} <br>
                        <b>üß≥ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á:</b> {Travel_Options} <br><br>
                        <img src="{Image_URL}" alt="Japan Image" width="100%">
                    `,
                },
            });

            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà 
            const map = new Map({
                basemap: "streets-navigation-vector",
                layers: [japanLocationFeatureLayer],
            });

            // ‡∏™‡∏£‡πâ‡∏≤‡∏á View
            const view = new MapView({
                container: "viewDiv",
                map: map,
                center: [139.76884133055768,35.6803762872687], // Tokyo
                zoom: 12,
            });
        })
    </script>
</body>

</html>